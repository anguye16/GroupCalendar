<!-- This is the landing/home page where users can read about the summary of Group Calendar -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
    <link rel="stylesheet" href="webStyles.css">
    //<script src="http://code.jquery.com/jquery-2.0.0.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>

<header>
    <a href="index"> <img class="logo" src="grouplogo.png" alt="GroupCalendarLogo" height="200" width="200"></a>
    <ul>
        <li><a href="login">login</a></li>
        <li><a href="signup">sign up</a></li>
        <li><a href="about">about us</a></li>
    </ul>
</header>

<body>

<section>

    Welcome to Group Calendar, a wonderful place to make new friends and find new groups as well as connect with people
    you already know.<br><br>
    Have a group, but not sure when everyone can meet? Want to find people in your area with similar
    likes and interests as you? This might be the thing for you!
    <img class =background src="grouplogo.png" alt="GroupCalendarLogo" height="200" width="200">

</section>

<section>
    <div>
        <ul class="tabs">
            <li><a class ="tab" onclick="showDetails(this)" id="publicEvenTab" data-tab-desc="list of public events added by members" href="#publicevents">Public Events</a></li>
            <li><a class ="tab" onclick="showDetails(this)" id="donTab" data-tab-desc="list of our most valuable donors" href="#donations">Donations</a></li>
        </ul>
    </div>
</section>

<div class="panel" id="publicevents" >
    <div id=todoItems></div>
    <button id="new">New item</button>
</div>

<div class="panel" id="donations">
    <table style="height: 100px; overflow-y:scroll">
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Amount Donated</th>
        </tr>
        <tr>
            <td data-fName = "Bruce">Bruce</td>
            <td>Wayne</td>
            <td>$50,000</td>
        </tr>
        <tr>
            <td data-fName = "Tony">Tony</td>
            <td>Stark</td>
            <td>$65,000</td>
        </tr>
        <tr>
            <td data-fName = Lex>Lex</td>
            <td>Luthor</td>
            <td>$45,000</td>
        </tr>
        <tr>
            <td data-fName = Black>Black</td>
            <td>Panther</td>
            <td>$100,000</td>
        </tr>
        <tr>
            <td>Oliver</td>
            <td>Queen</td>
            <td>$10,000</td>
        </tr>
    </table>
</div>

<section></section>

<script>
    function show(id) {
        $('.tab')//Select all elements with tab class
                .removeClass('selected')//Remove the "selected" class
                .filter //Filter all tabs with function below
                (function () {
                    return (this.hash === id);
                }) //Add the tag with the corresponding link
                .addClass('selected');

        $('.panel')//Select elements with class "panel"
                .hide() //Hide all elements with class "panel"
                .filter(id) //Select the element with the filtered id
                .show(); //Unhide element that has been selected
    }

    //Calls the functions above when the # changes
    $(window).on('hashchange', function(){
        show(location.hash);
    });

    // Initially shows the first panel
    show('#publicevents');

    var eventItems = [];

    $('#new').click(function()
    {
        $('#todoItems').append(
                '<div class="todoItem"><input type="text" id="itemNew"/><button onclick="deleteItem(this.parentElement)"> &#x2716;</button>' +
                '<button onclick="submitEvent(this.parentElement)">Submit Item </button></div>'
        );
    });
    function deleteItem(divElem){
        divElem.parentElement.removeChild(divElem);
    }
    function submitEvent(divElem){
        var eventItem = "<ul><li>" + $("#itemNew").val() + "</li></ul>";
        divElem.parentElement.removeChild(divElem);

        eventItems.push(eventItem);

        $('#todoItems').html(eventItems.join("<br>"));
    }
    $('button').click(function()
    {
        console.log(JSON.stringify(this));
        this.parent().remove(this);
    });


    function showDetails(tab) {
        var tabDetails = tab.getAttribute("data-tab-desc");
        console.log("The " + tab.innerHTML + " is a " + tabDetails + ".");
    }

</script>

</body>

<footer>
	<ul>
		<li><a href="about">about us</a></li>
	</ul>
</footer>

</html>
